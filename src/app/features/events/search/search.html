<div class="home-container" [class.is-logged]="isLoggedIn">
  <app-navbar></app-navbar>

  <section class="hero-section">
    <div class="hero-content">
      <div class="text-side">
        <h1 *ngIf="isLoggedIn; else guestTitle">
          Hi <span class="highlight">{{ userName }}</span> !<br>
          Where are we going<br>today?
        </h1>

        <ng-template #guestTitle>
          <h1>You choose your event for tomorrow</h1>
        </ng-template>
      </div>
      
      <div class="search-side">
        <div class="search-bar-container">
          <form (submit)="onSearch(); $event.preventDefault()">
            <input 
              type="text" 
              [(ngModel)]="searchQuery" 
              name="search"
              placeholder="Search for an artist, event...">
    
              <button type="submit" class="search-btn">
                <img src="assets/search.png" alt="Search" class="search-icon">
              </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <section class="results-container" *ngIf="events.length > 0">
    <div class="events-grid">
      <div class="event-card" *ngFor="let event of events" [routerLink]="['/event', event.id]">
        <img [src]="event.images[0]?.url" class="card-img" alt="event image">
        <div class="card-content">
          <h3>{{ event.name }}</h3>
          <p>ğŸ“ {{ event._embedded?.venues?.[0]?.name }} - {{ event._embedded?.venues?.[0]?.city?.name }}</p>
          <p class="date">ğŸ“… {{ event.dates.start.localDate }}</p>
        </div>
      </div>
    </div>
  </section>

  <div class="footer-spacer"></div>
</div>